# ID2223 - [Lab 1](https://github.com/ID2223KTH/id2223kth.github.io/tree/master/src/serverless-ml-intro). 

In this Lab, we created and deployed two serverless end-to-end machine learning pipelines - from loading the datasets to batch predictions as well as immediate predictions given the respective feature values inputted in a GUI. The first pipeline was given and uses this Iris dataset, and the second pipeline borrows code from the Iris pipeline, but uses a feature store and model based on the Titanc dataset.

## Pipeline architectures

The two pipelines uses the same architecture. Essentially, the only difference is the data and therefore also how the data is preprocessed, what ML algorithm is used and ultimately the components of the GUI. Below, we describe the general idea.

### Feature pipeline

In this pipeline, reading of data from a source, e.g. form an API call or locally, and create a dataframe out of it is done. Afterwards, after an exploratory analysis can provide an idea of the datatypes, missing values and data distribution. In our case, for the Titanic dataset, the exploratory analysis was done in a local jupyter notebook. Given the information generated by the exploratory analysis, data preprocessing is done and subsequently the features that the to-be model will use during training are stored as a schema in a feature store in Hopswork. 

### Training pipeline
Not sure about this one 

### Feature pipeline daily
Not sure about this one

### Batch inference pipeline
Not sure about this one

## Setup
1. Create account on Hopswork and generate an API key.
2. Create an account on Modal and add HOPSWORKS_API_KEY as a Environment
variable secret.
3. Create an account on Huggingface, create a space and create a Gardio app. Add your HOPSWORKS_API_KEY as a Repo Secret. 
4. Fork this repo.
5. Create a virtual environment and install dependencies:
- `$ python3 -m venv venv`
- `$ source venv/bin/activate`
- `(venv) $ python -m pip install requirements.txt`

## Links

### Iris 

_User interface links (Hugging Face)_
- Dashboard
    - https://huggingface.co/spaces/akseluhr/iris-monitoring
    - https://huggingface.co/spaces/Abdullah1428/iris-monitoring
- Interactive
    - https://huggingface.co/spaces/akseluhr/iris
    - https://huggingface.co/spaces/Abdullah1428/Iris
- Code
    - Source code in `./iris`

### Titanic

_User interface links (Hugging Face)_
- Dashboard
    - https://huggingface.co/spaces/akseluhr/titanic-monitoring
    - https://huggingface.co/spaces/Abdullah1428/titanic-monitoring
- Interactive
    - https://huggingface.co/spaces/akseluhr/titanic
    - https://huggingface.co/spaces/Abdullah1428/titanic
- Code
    - Source code in `./titanic`

## Titanic feature and model training 

# Data preperation
data prep goes here

# Model training
